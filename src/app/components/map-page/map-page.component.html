<div class="map-container" >
	<app-map [data]="barProperties" [highlightedMarkerId]="highlightedMarkerId"></app-map>
</div>

<div class="content" 
	fxLayout="row"
	fxLayoutGap="15px"
	fxFlexFill >
	
	<div class="map-left-element-container">
		<mat-form-field class="auto-complete">
			<input type="text" placeholder="Rechercher un bar" matInput [formControl]="barSearcher" [matAutocomplete]="auto">
			<mat-autocomplete #auto="matAutocomplete" (optionSelected)="setHighlightedBar($event.option)" [displayWith]="displayFn">
				<cdk-virtual-scroll-viewport itemSize="48" style="height: 256px">
					<mat-option *cdkVirtualFor="let bar of bars" [value]="bar">
					  {{ bar.name }}
					</mat-option>
				</cdk-virtual-scroll-viewport>
			</mat-autocomplete>
		</mat-form-field>
		
		<div *ngIf="!isMobile">
			<app-map-filters [(data)]="barProperties"></app-map-filters>
		</div>
	</div>

	<div *ngIf="isMobile">
		<button *ngIf="!showFilters; else filters" mat-fab (click)="toggleShowFilters()" color="primary" class="mapPage-button">
			<mat-icon>menu</mat-icon>
		</button>
		<ng-template #filters>
			<app-map-filters class="map-mobile-filters" [(data)]="barProperties" [isMobile]="isMobile" [(showFilters)]="showFilters"></app-map-filters>
		</ng-template>
	</div>
</div>